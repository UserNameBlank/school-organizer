var ut=Object.defineProperty;var Je=s=>{throw TypeError(s)};var ft=(s,e,r)=>e in s?ut(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var Ke=(s,e,r)=>ft(s,typeof e!="symbol"?e+"":e,r),Fe=(s,e,r)=>e.has(s)||Je("Cannot "+r);var R=(s,e,r)=>(Fe(s,e,"read from private field"),r?r.call(s):e.get(s)),le=(s,e,r)=>e.has(s)?Je("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,r),$e=(s,e,r,n)=>(Fe(s,e,"write to private field"),n?n.call(s,r):e.set(s,r),r);import{c as v,a as t,t as p,s as vt,d as B,b as Ge}from"../chunks/disclose-version.BXtJ1W0_.js";import{n as ve,m as a,t as ze,f as o,v as _,w as je,c as S,q as pt,r as w,i as gt,K as H,ae as he,s as y,ax as Q}from"../chunks/utils.DRp8il40.js";import{d as mt,s as x}from"../chunks/render.Bx7icutD.js";import{p as k,i as te,r as Be,l as st,s as Te,a as Oe}from"../chunks/preload-helper.CTy181sv.js";import{h as _t,I as rt,s as at,f as ot,g as bt,e as Pe,i as ye,c as ue,$ as xt,D as He,b as Qe,l as $t}from"../chunks/Icon.UlmRfCyG.js";import{c as i}from"../chunks/index-client.C_rSk1z8.js";import{B as Ue,t as ht,s as Pt}from"../chunks/button.CoZVfdsq.js";import{e as yt,D as wt,P as St,a as kt,b as We,c as Xe,d as Ye,C as Ze}from"../chunks/index.RH1IVTR_.js";import{R as Dt,S as zt,a as jt,b as Tt}from"../chunks/index.LVv-1BfT.js";import{u as Rt,i as Ct,j as It,k as Nt,a as Ot,n as Bt,b as we,s as et,m as Vt,l as qt}from"../chunks/index.CAlaWtPU.js";import"../chunks/legacy.B_at4KoE.js";const At="data-toggle-root";var fe,ge,se,Se,ke,De;class Lt{constructor(e){le(this,fe);le(this,ge);le(this,se);Ke(this,"pressed");le(this,Se,()=>{R(this,se).current||(this.pressed.current=!this.pressed.current)});le(this,ke,()=>{R(this,se).current||R(this,Se).call(this)});le(this,De,ve(()=>({[At]:"",id:R(this,fe).current,"data-disabled":Ct(R(this,se).current),"aria-pressed":It(this.pressed.current),"data-state":Et(this.pressed.current),disabled:Nt(R(this,se).current),onclick:R(this,ke)})));$e(this,se,e.disabled),this.pressed=e.pressed,$e(this,fe,e.id),$e(this,ge,e.ref),Rt({id:R(this,fe),ref:R(this,ge)})}get props(){return a(R(this,De))}}fe=new WeakMap,ge=new WeakMap,se=new WeakMap,Se=new WeakMap,ke=new WeakMap,De=new WeakMap;function Mt(s){return new Lt(s)}function Et(s){return s?"on":"off"}var Jt=p("<button><!></button>");function Kt(s,e){ze(e,!0);let r=k(e,"ref",15,null),n=k(e,"id",19,Ot),$=k(e,"pressed",15,!1),b=k(e,"onPressedChange",3,Bt),l=k(e,"disabled",3,!1),c=k(e,"type",3,"button"),h=k(e,"controlledPressed",3,!1),V=Be(e,["$$slots","$$events","$$legacy","ref","id","pressed","onPressedChange","disabled","type","controlledPressed","children","child"]);const re=Mt({pressed:we.with(()=>$(),D=>{h()||$(D),b()(D)}),disabled:we.with(()=>l()??!1),id:we.with(()=>n()),ref:we.with(()=>r(),D=>r(D))}),de=ve(()=>Vt(V,re.props,{type:c()}));var U=v(),Re=o(U);te(Re,()=>e.child,D=>{var q=v(),ae=o(q);et(ae,()=>e.child,()=>({props:a(de),pressed:re.pressed.current})),t(D,q)},D=>{var q=Jt();let ae;var me=S(q);et(me,()=>e.children??pt,()=>({pressed:re.pressed.current})),w(q),_(()=>ae=_t(q,ae,{...a(de)})),t(D,q)}),t(s,U),je()}function Ft(s,e){const r=st(e,["children","$$slots","$$events","$$legacy"]);rt(s,Te({name:"pencil-off"},()=>r,{iconNode:[["path",{d:"m10 10-6.157 6.162a2 2 0 0 0-.5.833l-1.322 4.36a.5.5 0 0 0 .622.624l4.358-1.323a2 2 0 0 0 .83-.5L14 13.982"}],["path",{d:"m12.829 7.172 4.359-4.346a1 1 0 1 1 3.986 3.986l-4.353 4.353"}],["path",{d:"m15 5 4 4"}],["path",{d:"m2 2 20 20"}]],children:($,b)=>{var l=v(),c=o(l);at(c,e,"default",{},null),t($,l)},$$slots:{default:!0}}))}function Gt(s,e){const r=st(e,["children","$$slots","$$events","$$legacy"]);rt(s,Te({name:"pencil"},()=>r,{iconNode:[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]],children:($,b)=>{var l=v(),c=o(l);at(c,e,"default",{},null),t($,l)},$$slots:{default:!0}}))}function tt(s,e){ze(e,!0);let r=k(e,"ref",15,null),n=Be(e,["$$slots","$$events","$$legacy","ref","class"]);var $=v(),b=o($),l=ve(()=>ot("text-muted-foreground text-sm",e.class));i(b,()=>yt,(c,h)=>{h(c,Te({get ref(){return r()},set ref(V){r(V)},get class(){return a(l)}},()=>n))}),t(s,$),je()}const Ht=qt({base:"ring-offset-background hover:bg-muted hover:text-muted-foreground focus-visible:ring-ring data-[state=on]:bg-accent data-[state=on]:text-accent-foreground inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",variants:{variant:{default:"bg-transparent",outline:"border-input hover:bg-accent hover:text-accent-foreground border bg-transparent"},size:{default:"h-10 min-w-10 px-3",sm:"h-9 min-w-9 px-2.5",lg:"h-11 min-w-11 px-5"}},defaultVariants:{variant:"default",size:"default"}});function Qt(s,e){ze(e,!0);let r=k(e,"ref",15,null),n=k(e,"pressed",15,!1),$=k(e,"size",3,"default"),b=k(e,"variant",3,"default"),l=Be(e,["$$slots","$$events","$$legacy","ref","pressed","class","size","variant"]);var c=v(),h=o(c),V=ve(()=>ot(Ht({variant:b(),size:$(),className:e.class})));i(h,()=>Kt,(re,de)=>{de(re,Te({get ref(){return r()},set ref(U){r(U)},get pressed(){return n()},set pressed(U){n(U)},get class(){return a(V)}},()=>l))}),t(s,c),je()}var Ut=p("<p> </p>"),Wt=p('<button class="flex items-center justify-center rounded-md bg-gray-500 text-xl font-semibold active:bg-accent"> </button>'),Xt=p('<button class="dotted-outline flex items-center justify-center rounded-md active:bg-accent svelte-r4gedx"><!></button>'),Yt=p('<div class="flex items-center justify-center rounded-md bg-blue-500 p-4 text-xl font-semibold"> </div>'),Zt=p("<div></div>"),es=p("<!> <!>",1),ts=p("<!> <!>",1),ss=p("<!> <!>",1),rs=p("<!> <!>",1),as=p("<span> </span>"),os=p("<!> <!>",1),ns=p('<!> <div class="p-4"><!></div> <!> <!>',1),ls=p('<div class="flex h-[1800px] min-w-[1200px] flex-col"><div class="sticky top-0 z-10 h-min w-full border-b-[1px] border-accent bg-background pl-20"><div class="flex flex-row justify-around p-4"></div></div> <div class="flex flex-1"><div class="sticky start-0 flex w-20 flex-col items-center justify-around border-r-[1px] border-accent bg-background"><p class="text-sm text-accent-foreground"><span class="text-lg font-bold">1</span> 7:50</p> <p class="text-sm text-accent-foreground"><span class="text-lg font-bold">2</span> 8:40</p> <p class="text-sm text-accent-foreground"><span class="text-lg font-bold">3</span> 9:40</p> <p class="text-sm text-accent-foreground"><span class="text-lg font-bold">4</span> 10:30</p> <p class="text-sm text-accent-foreground"><span class="text-lg font-bold">5</span> 11:30</p> <p class="text-sm text-accent-foreground"><span class="text-lg font-bold">6</span> 12:20</p> <p class="text-sm text-accent-foreground"><span class="text-lg font-bold">7</span> 13:10</p> <p class="text-sm text-accent-foreground"><span class="text-lg font-bold">8</span> 14:00</p> <p class="text-sm text-accent-foreground"><span class="text-lg font-bold">9</span> 14:45</p> <p class="text-sm text-accent-foreground"><span class="text-lg font-bold">10</span> 15:30</p> <p class="text-sm text-accent-foreground"><span class="text-lg font-bold">11</span> 16:15</p> <p class="text-sm text-accent-foreground"><span class="text-lg font-bold">12</span> 17:00</p></div>             <div class="grid flex-1 grid-cols-5 grid-rows-12 gap-4 p-4"><!></div></div></div> <!>',1),ds=p('<div class="fixed bottom-0 left-0 right-0 bg-black/60 py-4 text-center text-xl font-semibold"> </div>'),is=p("<!> <!> <!>",1);function ys(s,e){ze(e,!0);const r=vt(),n=()=>Ge(xt,"$t",r),$=()=>Ge($t,"$json",r);gt(()=>{bt.currentTab=n()("titles.timetable")});let b=he(!1),l=he(!1),c=null,h=he(null),V=he(!1);function re(P){c=P,H(V,!1),H(l,!0)}function de(P){c=P,H(V,!0),H(l,!0)}function U(){H(l,!1),ue.timetable[c]=null,He.clearTimetableSlot({id:c})}async function Re(){a(h)&&(H(l,!1),ue.timetable[c]=a(h),He.setTimetableSlot({id:c,subjectId:a(h).id}))}function D(P){const A=ue.get(parseInt(P));H(h,Oe(A))}let q=ve(()=>$()("timetable.days"));var ae=is(),me=o(ae);i(me,()=>wt,(P,A)=>{A(P,{get open(){return a(l)},set open(W){H(l,Oe(W))},children:(W,qe)=>{var ie=ls(),Ce=o(ie),Ie=S(Ce),Ae=S(Ie);Pe(Ae,21,()=>a(q),ye,(oe,L)=>{var M=Ut(),ce=S(M,!0);w(M),_(()=>x(ce,a(L))),t(oe,M)}),w(Ae),w(Ie);var Le=y(Ie,2),Me=y(S(Le),2),lt=S(Me);te(lt,()=>a(b),oe=>{var L=v(),M=o(L);Pe(M,17,()=>ue.timetable,ye,(ce,E,ne)=>{var X=v(),z=o(X);te(z,()=>a(E),g=>{var m=Wt();m.__click=()=>de(ne);var J=S(m,!0);w(m),_(()=>x(J,a(E).name)),t(g,m)},g=>{var m=Xt();m.__click=()=>re(ne);var J=S(m);St(J,{}),w(m),t(g,m)}),t(ce,X)}),t(oe,L)},oe=>{var L=v(),M=o(L);Pe(M,17,()=>ue.timetable,ye,(ce,E)=>{var ne=v(),X=o(ne);te(X,()=>a(E),z=>{var g=Yt(),m=S(g,!0);w(g),_(()=>{Qe(g,"style",`background-color: ${a(E).color??""}`),x(m,a(E).name)}),t(z,g)},z=>{var g=Zt();t(z,g)}),t(ce,ne)}),t(oe,L)}),w(Me),w(Le),w(Ce);var dt=y(Ce,2);i(dt,()=>kt,(oe,L)=>{L(oe,{children:(M,ce)=>{var E=v(),ne=o(E);te(ne,()=>a(V),X=>{var z=ss(),g=o(z);i(g,()=>We,(J,Y)=>{Y(J,{children:(_e,be)=>{var Z=es(),K=o(Z);i(K,()=>Xe,(C,ee)=>{ee(C,{children:(u,I)=>{Q();var f=B();_(()=>x(f,n()("timetable.drawer.reset-slot.title"))),t(u,f)},$$slots:{default:!0}})});var pe=y(K,2);i(pe,()=>tt,(C,ee)=>{ee(C,{children:(u,I)=>{Q();var f=B();_(()=>x(f,n()("timetable.drawer.reset-slot.subtitle"))),t(u,f)},$$slots:{default:!0}})}),t(_e,Z)},$$slots:{default:!0}})});var m=y(g,2);i(m,()=>Ye,(J,Y)=>{Y(J,{children:(_e,be)=>{var Z=ts(),K=o(Z);Ue(K,{variant:"destructive",onclick:U,children:(C,ee)=>{Q();var u=B();_(()=>x(u,n()("timetable.drawer.reset-slot.button"))),t(C,u)},$$slots:{default:!0}});var pe=y(K,2);i(pe,()=>Ze,(C,ee)=>{ee(C,{children:(u,I)=>{Q();var f=B();_(()=>x(f,n()("ui.cancel"))),t(u,f)},$$slots:{default:!0}})}),t(_e,Z)},$$slots:{default:!0}})}),t(X,z)},X=>{var z=v(),g=o(z);i(g,()=>Dt,(m,J)=>{J(m,{type:"single",onValueChange:Y=>Y&&D(Y),children:(Y,_e)=>{var be=ns(),Z=o(be);i(Z,()=>We,(u,I)=>{I(u,{children:(f,Ne)=>{var j=rs(),F=o(j);i(F,()=>Xe,(d,T)=>{T(d,{children:(N,xe)=>{Q();var O=B();_(()=>x(O,n()("timetable.drawer.set-slot.title"))),t(N,O)},$$slots:{default:!0}})});var G=y(F,2);i(G,()=>tt,(d,T)=>{T(d,{children:(N,xe)=>{Q();var O=B();_(()=>x(O,n()("timetable.drawer.set-slot.subtitle"))),t(N,O)},$$slots:{default:!0}})}),t(f,j)},$$slots:{default:!0}})});var K=y(Z,2),pe=S(K);i(pe,()=>zt,(u,I)=>{I(u,{children:(f,Ne)=>{var j=v(),F=o(j);te(F,()=>a(h)==null,G=>{var d=B("Slot");t(G,d)},G=>{var d=as(),T=S(d,!0);w(d),_(()=>{Qe(d,"style",`color: ${a(h).color??""}`),x(T,a(h).name)}),t(G,d)}),t(f,j)},$$slots:{default:!0}})}),w(K);var C=y(K,2);i(C,()=>Ye,(u,I)=>{I(u,{children:(f,Ne)=>{var j=os(),F=o(j);Ue(F,{onclick:Re,children:(d,T)=>{Q();var N=B();_(()=>x(N,n()("timetable.drawer.set-slot.button"))),t(d,N)},$$slots:{default:!0}});var G=y(F,2);i(G,()=>Ze,(d,T)=>{T(d,{children:(N,xe)=>{Q();var O=B();_(()=>x(O,n()("ui.cancel"))),t(N,O)},$$slots:{default:!0}})}),t(f,j)},$$slots:{default:!0}})});var ee=y(C,2);i(ee,()=>jt,(u,I)=>{I(u,{children:(f,Ne)=>{var j=v(),F=o(j);Pe(F,17,()=>ue.subjects,ye,(G,d)=>{var T=v(),N=o(T),xe=ve(()=>a(d).id.toString());i(N,()=>Tt,(O,it)=>{it(O,{get value(){return a(xe)},class:"flex flex-row",get style(){return`color: ${a(d).color??""}`},children:(ct,cs)=>{Q();var Ee=B();_(()=>x(Ee,a(d).name)),t(ct,Ee)},$$slots:{default:!0}})}),t(G,T)}),t(f,j)},$$slots:{default:!0}})}),t(Y,be)},$$slots:{default:!0}})}),t(X,z)}),t(M,E)},$$slots:{default:!0}})}),t(W,ie)},$$slots:{default:!0}})});var Ve=y(me,2);Qt(Ve,{get pressed(){return a(b)},set pressed(P){H(b,Oe(P))},class:"fixed bottom-8 right-8 z-30 aspect-square rounded-full bg-background p-6 shadow-md",variant:"outline",children:(P,A)=>{var W=v(),qe=o(W);te(qe,()=>a(b),ie=>{Ft(ie,{})},ie=>{Gt(ie,{})}),t(P,W)},$$slots:{default:!0}});var nt=y(Ve,2);te(nt,()=>a(b),P=>{var A=ds(),W=S(A,!0);_(()=>x(W,n()("timetable.edit-label"))),w(A),ht(3,A,()=>Pt,()=>({axis:"y"})),t(P,A)}),t(s,ae),je()}mt(["click"]);export{ys as component};
