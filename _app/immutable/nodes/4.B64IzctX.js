var Pt=Object.defineProperty;var rt=t=>{throw TypeError(t)};var Tt=(t,e,a)=>e in t?Pt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var re=(t,e,a)=>Tt(t,typeof e!="symbol"?e+"":e,a),st=(t,e,a)=>e.has(t)||rt("Cannot "+a);var l=(t,e,a)=>(st(t,e,"read from private field"),a?a.call(t):e.get(t)),T=(t,e,a)=>e.has(t)?rt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,a),ie=(t,e,a,r)=>(st(t,e,"write to private field"),r?r.call(t,a):e.set(t,a),a);import{c as I,a as n,t as M,s as qt,b as Be,d as V,g as Nt}from"../chunks/disclose-version.BXtJ1W0_.js";import{n as $,m as i,t as de,f as k,w as ue,v as f,c as u,q as ct,r as v,s as d,K as be,ae as nt,i as Rt,ax as z}from"../chunks/utils.DRp8il40.js";import{d as It,s as w}from"../chunks/render.Bx7icutD.js";import{i as we,p as S,r as Ue,l as Dt,s as dt,a as ut}from"../chunks/preload-helper.CTy181sv.js";import{j as vt,h as Ge,I as Ot,s as At,f as it,m as Et,C as Mt,g as b,$ as Bt,D as oe,e as Fe,i as Le,n as Ft,o as ot}from"../chunks/Icon.UlmRfCyG.js";import{c as q,b as Lt}from"../chunks/index-client.C_rSk1z8.js";import{B as Ve,t as Vt,f as zt}from"../chunks/button.CoZVfdsq.js";import{R as ze,S as He,a as je,b as Ke}from"../chunks/index.LVv-1BfT.js";import{P as ke,s as Ht}from"../chunks/mode.DF1UJ-5o.js";import{L as lt}from"../chunks/label.C4tfK78c.js";import{c as jt,u as ht,E as Kt,S as Ut,i as Gt,o as Jt,p as Qt,k as Wt,q as Xt,r as Yt,t as Zt,v as ea,w as ta,a as ft,n as aa,b as W,s as Ce,m as gt}from"../chunks/index.CAlaWtPU.js";import"../chunks/legacy.B_at4KoE.js";import{i as ra}from"../chunks/lifecycle.lWNxn3M3.js";function sa(t){return function(...e){var a=e[0];return a.preventDefault(),t==null?void 0:t.apply(this,e)}}const na="data-switch-root",ia="data-switch-thumb";var le,$e,xe,Pe,Te,qe,Ne;class oa{constructor(e){T(this,le);T(this,$e);re(this,"checked");re(this,"disabled");re(this,"required");re(this,"name");re(this,"value");T(this,xe,()=>{this.checked.current=!this.checked.current});T(this,Pe,e=>{!(e.key===Kt||e.key===Ut)||this.disabled.current||(e.preventDefault(),l(this,xe).call(this))});T(this,Te,e=>{this.disabled.current||l(this,xe).call(this)});T(this,qe,$(()=>({"data-disabled":Gt(this.disabled.current),"data-state":Jt(this.checked.current),"data-required":Qt(this.required.current)})));T(this,Ne,$(()=>({...this.sharedProps,id:l(this,le).current,role:"switch",disabled:Wt(this.disabled.current),"aria-checked":Xt(this.checked.current,!1),"aria-required":Yt(this.required.current),[na]:"",onclick:l(this,Te),onkeydown:l(this,Pe)})));this.checked=e.checked,this.disabled=e.disabled,this.required=e.required,this.name=e.name,this.value=e.value,ie(this,le,e.id),ie(this,$e,e.ref),ht({id:l(this,le),ref:l(this,$e)})}get sharedProps(){return i(l(this,qe))}get props(){return i(l(this,Ne))}}le=new WeakMap,$e=new WeakMap,xe=new WeakMap,Pe=new WeakMap,Te=new WeakMap,qe=new WeakMap,Ne=new WeakMap;var H,Re,Ie;class la{constructor(e){T(this,H);T(this,Re,$(()=>l(this,H).name.current!==void 0));T(this,Ie,$(()=>({type:"checkbox",name:l(this,H).name.current,value:l(this,H).value.current,checked:l(this,H).checked.current,disabled:l(this,H).disabled.current,required:l(this,H).required.current,"aria-hidden":Zt(!0),style:ea(ta)})));ie(this,H,e)}get shouldRender(){return i(l(this,Re))}get props(){return i(l(this,Ie))}}H=new WeakMap,Re=new WeakMap,Ie=new WeakMap;var ce,ye,De;class ca{constructor(e,a){T(this,ce);T(this,ye);re(this,"root");T(this,De,$(()=>({...this.root.sharedProps,id:l(this,ce).current,[ia]:""})));this.root=a,ie(this,ce,e.id),ie(this,ye,e.ref),ht({id:l(this,ce),ref:l(this,ye)})}get props(){return i(l(this,De))}}ce=new WeakMap,ye=new WeakMap,De=new WeakMap;const[da,mt]=jt("Switch.Root");function ua(t){return da(new oa(t))}function va(){return new la(mt())}function ha(t){return new ca(t,mt())}var fa=M("<input>");function ga(t,e){de(e,!1);const a=va();ra();var r=I(),g=k(r);we(g,()=>a.shouldRender,x=>{var m=fa();vt(m);let y;f(()=>y=Ge(m,y,{...a.props})),n(x,m)}),n(t,r),ue()}var ma=M("<button><!></button>"),pa=M("<!> <!>",1);function _a(t,e){de(e,!0);let a=S(e,"ref",15,null),r=S(e,"id",19,ft),g=S(e,"disabled",3,!1),x=S(e,"required",3,!1),m=S(e,"checked",15,!1),y=S(e,"value",3,"on"),j=S(e,"name",3,void 0),C=S(e,"type",3,"button"),o=S(e,"onCheckedChange",3,aa),N=S(e,"controlledChecked",3,!1),B=Ue(e,["$$slots","$$events","$$legacy","child","children","ref","id","disabled","required","checked","value","name","type","onCheckedChange","controlledChecked"]);const P=ua({checked:W.with(()=>m(),O=>{var D;N()?o()(O):(m(O),(D=o())==null||D(O))}),disabled:W.with(()=>g()??!1),required:W.with(()=>x()),value:W.with(()=>y()),name:W.with(()=>j()),id:W.with(()=>r()),ref:W.with(()=>a(),O=>a(O))}),K=$(()=>gt(B,P.props,{type:C()}));var h=pa(),p=k(h);we(p,()=>e.child,O=>{var D=I(),X=k(D);Ce(X,()=>e.child,()=>({props:i(K),checked:P.checked.current})),n(O,D)},O=>{var D=ma();let X;var ve=u(D);Ce(ve,()=>e.children??ct,()=>({checked:P.checked.current})),v(D),f(()=>X=Ge(D,X,{...i(K)})),n(O,D)});var Oe=d(p,2);ga(Oe,{}),n(t,h),ue()}var ba=M("<span><!></span>");function ka(t,e){de(e,!0);let a=S(e,"ref",15,null),r=S(e,"id",19,ft),g=Ue(e,["$$slots","$$events","$$legacy","child","children","ref","id"]);const x=ha({id:W.with(()=>r()),ref:W.with(()=>a(),C=>a(C))}),m=$(()=>gt(g,x.props));var y=I(),j=k(y);we(j,()=>e.child,C=>{var o=I(),N=k(o);Ce(N,()=>e.child,()=>({props:i(m),checked:x.root.checked.current})),n(C,o)},C=>{var o=ba();let N;var B=u(o);Ce(B,()=>e.children??ct,()=>({checked:x.root.checked.current})),v(o),f(()=>N=Ge(o,N,{...i(m)})),n(C,o)}),n(t,y),ue()}function wa(t,e){const a=Dt(e,["children","$$slots","$$events","$$legacy"]);Ot(t,dt({name:"import"},()=>a,{iconNode:[["path",{d:"M12 3v12"}],["path",{d:"m8 11 4 4 4-4"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4"}]],children:(g,x)=>{var m=I(),y=k(m);At(y,e,"default",{},null),n(g,m)},$$slots:{default:!0}}))}function $a(t,e){de(e,!0);let a=S(e,"ref",15,null),r=S(e,"checked",15,!1),g=Ue(e,["$$slots","$$events","$$legacy","ref","class","checked"]);var x=I(),m=k(x),y=$(()=>it("focus-visible:ring-ring focus-visible:ring-offset-background data-[state=checked]:bg-primary data-[state=unchecked]:bg-input peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e.class));q(m,()=>_a,(j,C)=>{C(j,dt({get ref(){return a()},set ref(o){a(o)},get checked(){return r()},set checked(o){r(o)},get class(){return i(y)}},()=>g,{children:(o,N)=>{var B=I(),P=k(B),K=$(()=>it("bg-background pointer-events-none block size-5 rounded-full shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"));q(P,()=>ka,(h,p)=>{p(h,{get class(){return i(K)}})}),n(o,B)},$$slots:{default:!0}}))}),n(t,x),ue()}var xa=M('<div class="relative"><p class="absolute right-4 top-0.5 text-foreground/50"> </p> <input class="w-20 rounded-md bg-background py-0.5 pl-5 outline-none outline-1 outline-accent focus:font-bold" type="text"></div>');function ya(t,e){de(e,!0);let a=S(e,"time",15,"17:00"),r=0,g=nt("");const x=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,m=h=>{const p=h.target;console.log(parseFloat(h.key)),!isNaN(parseFloat(h.key))&&(p.value+=h.key,be(g,ut(i(g).substring(1))),r+=1,r==2&&(p.value+=":",be(g,"00")),r==4&&document.activeElement.blur())};function y(h){const p=h.target;r=0,p.value="",be(g,"00:00")}function j(h){const p=h.target;x.test(p.value)?(a(p.value),e.onSubmit(a())):p.value=a(),be(g,"")}let C=nt(void 0);var o=xa(),N=u(o),B=u(N,!0);v(N);var P=d(N,2);vt(P);var K=$(()=>sa(m));P.__keydown=function(...h){var p;(p=i(K))==null||p.apply(this,h)},P.__focusin=y,P.__focusout=j,Lt(P,h=>be(C,h),()=>i(C)),v(o),f(()=>{w(B,i(g)),Et(P,a())}),n(t,o),ue()}It(["keydown","focusin","focusout"]);var Sa=M("<!> ",1),Ca=M('<div class="flex flex-row items-center"><p class="flex-1"> </p> <!></div> <!>',1),Pa=M('<div class="flex flex-row items-center"><p class="flex-1"> </p> <!></div> <!>',1),Ta=M("<!> <!>",1),qa=M('<div class="grid gap-3"><div class="flex flex-row items-center"><p class="flex-1"> </p> <!></div> <div class="flex flex-row items-center"><p class="flex-1">Interval</p> <!></div></div>'),Na=M('<div class="grid w-full gap-6 overflow-y-auto px-8 py-10"><div class="grid gap-4 px-3"><!> <!> <!></div> <div class="grid gap-2"><!> <div class="grid gap-2 px-2"><!> <!></div></div> <div class="grid gap-4"><!> <div id="notifications" class="grid gap-3 px-2"><div class="flex flex-row items-center"><p class="flex-1"> </p> <!></div> <!></div></div></div>');function Ua(t,e){de(e,!0);const a=qt(),r=()=>Be(Bt,"$t",a),g=()=>Be(ot,"$locale",a),x=()=>Be(Ft,"$locales",a),m=Mt.getPlatform();Rt(()=>{b.currentTab=r()("titles.settings")});async function y(){oe.importContent()}async function j(){oe.exportContent()}async function C(){oe.exportToStorage()}function o(s){Nt(ot,ut(s)),ke.setString({key:"language",value:s})}async function N(s){try{await oe.setNotificationOptions({allow:s,time:b.notificationTime,interval:b.notificationInterval}),b.showNotifications=s,ke.setString({key:"show-notifications",value:s.toString()})}catch{b.showNotifications=!1}}async function B(s){await oe.setNotificationOptions({allow:b.showNotifications,time:s,interval:b.notificationInterval}),b.notificationTime=s,ke.setString({key:"notification-time",value:s})}async function P(s){const _=parseInt(s);await oe.setNotificationOptions({allow:b.showNotifications,time:b.notificationTime,interval:_}),b.notificationInterval=_,ke.setLong({key:"notification-interval",value:_})}const K=new Map([[864e5,r()("settings.notification-intervals.one")],[432e5,r()("settings.notification-intervals.two")],[216e5,r()("settings.notification-intervals.three")]]);function h(s){b.globalTheme=s,ke.setString({key:"theme",value:s}),Ht(s)}const p=$(()=>r()("settings.languages."+g())),Oe=$(()=>r()("settings.themes."+b.globalTheme));let O=$(()=>K.get(b.notificationInterval));const D=["system","dark","light"];var X=Na(),ve=u(X),Je=u(ve);Ve(Je,{onclick:y,variant:"outline",class:"p-5 font-semibold",children:(s,_)=>{var c=Sa(),A=k(c);wa(A,{class:"mr-3",size:20});var U=d(A,1,!0);f(()=>w(U,r()("settings.import-content"))),n(s,c)},$$slots:{default:!0}});var Qe=d(Je,2);Ve(Qe,{onclick:j,variant:"outline",class:"p-5",children:(s,_)=>{z();var c=V();f(()=>w(c,r()("settings.export-content"))),n(s,c)},$$slots:{default:!0}});var pt=d(Qe,2);we(pt,()=>m==="web",s=>{Ve(s,{onclick:C,variant:"outline",class:"mt-6 p-5",children:(_,c)=>{z();var A=V();f(()=>w(A,r()("settings.save-to-webstore"))),n(_,A)},$$slots:{default:!0}})}),v(ve);var Ae=d(ve,2),We=u(Ae);lt(We,{for:"select",class:"text-lg",children:(s,_)=>{z();var c=V();f(()=>w(c,r()("settings.general"))),n(s,c)},$$slots:{default:!0}});var Xe=d(We,2),Ye=u(Xe);q(Ye,()=>ze,(s,_)=>{_(s,{type:"single",allowDeselect:!1,onValueChange:o,children:(c,A)=>{var U=Ca(),G=k(U),F=u(G),he=u(F,!0);f(()=>w(he,r()("settings.language"))),v(F);var fe=d(F,2);q(fe,()=>He,(J,Y)=>{Y(J,{class:"w-1/2",id:"select",children:(L,se)=>{z();var R=V();f(()=>w(R,i(p))),n(L,R)},$$slots:{default:!0}})}),v(G);var ge=d(G,2);q(ge,()=>je,(J,Y)=>{Y(J,{children:(L,se)=>{var R=I(),ee=k(R);Fe(ee,1,x,Le,(te,E)=>{var ae=I(),Q=k(ae),me=$(()=>r()("settings.languages."+i(E)));q(Q,()=>Ke,(pe,ne)=>{ne(pe,{get value(){return i(E)},get label(){return i(me)},children:(_e,Se)=>{z();var Z=V();f(()=>w(Z,r()("settings.languages."+i(E)))),n(_e,Z)},$$slots:{default:!0}})}),n(te,ae)}),n(L,R)},$$slots:{default:!0}})}),n(c,U)},$$slots:{default:!0}})});var _t=d(Ye,2);q(_t,()=>ze,(s,_)=>{_(s,{type:"single",allowDeselect:!1,onValueChange:h,children:(c,A)=>{var U=Pa(),G=k(U),F=u(G),he=u(F,!0);f(()=>w(he,r()("settings.theme-label"))),v(F);var fe=d(F,2);q(fe,()=>He,(J,Y)=>{Y(J,{class:"w-1/2",id:"select",children:(L,se)=>{z();var R=V();f(()=>w(R,i(Oe))),n(L,R)},$$slots:{default:!0}})}),v(G);var ge=d(G,2);q(ge,()=>je,(J,Y)=>{Y(J,{children:(L,se)=>{var R=I(),ee=k(R);Fe(ee,17,()=>D,Le,(te,E)=>{var ae=I(),Q=k(ae),me=$(()=>r()("settings.themes."+i(E)));q(Q,()=>Ke,(pe,ne)=>{ne(pe,{get value(){return i(E)},get label(){return i(me)},children:(_e,Se)=>{z();var Z=V();f(()=>w(Z,r()("settings.themes."+i(E)))),n(_e,Z)},$$slots:{default:!0}})}),n(te,ae)}),n(L,R)},$$slots:{default:!0}})}),n(c,U)},$$slots:{default:!0}})}),v(Xe),v(Ae);var Ze=d(Ae,2),et=u(Ze);lt(et,{for:"notifications",class:"text-lg",children:(s,_)=>{z();var c=V();f(()=>w(c,r()("settings.notifications-label"))),n(s,c)},$$slots:{default:!0}});var tt=d(et,2),Ee=u(tt),Me=u(Ee),bt=u(Me,!0);f(()=>w(bt,r()("settings.notifications.switch-label"))),v(Me);var kt=d(Me,2);$a(kt,{get checked(){return b.showNotifications},set checked(s){b.showNotifications=s},onCheckedChange:N}),v(Ee);var wt=d(Ee,2);we(wt,()=>b.showNotifications,s=>{var _=qa(),c=u(_),A=u(c),U=u(A,!0);f(()=>w(U,r()("settings.notifications.time-label"))),v(A);var G=d(A,2);ya(G,{get time(){return b.notificationTime},onSubmit:B}),v(c);var F=d(c,2),he=d(u(F),2);q(he,()=>ze,(fe,ge)=>{ge(fe,{type:"single",onValueChange:P,children:(J,Y)=>{var L=Ta(),se=k(L);q(se,()=>He,(ee,te)=>{te(ee,{class:"w-48",children:(E,ae)=>{z();var Q=V();f(()=>w(Q,i(O))),n(E,Q)},$$slots:{default:!0}})});var R=d(se,2);q(R,()=>je,(ee,te)=>{te(ee,{children:(E,ae)=>{var Q=I(),me=k(Q);Fe(me,17,()=>K,Le,(pe,ne)=>{let _e=()=>i(ne)[0],Se=()=>i(ne)[1];var Z=I(),$t=k(Z),xt=$(()=>_e().toString());q($t,()=>Ke,(yt,St)=>{St(yt,{get value(){return i(xt)},get label(){return Se()},children:(Ct,Ra)=>{z();var at=V();f(()=>w(at,Se())),n(Ct,at)},$$slots:{default:!0}})}),n(pe,Z)}),n(E,Q)},$$slots:{default:!0}})}),n(J,L)},$$slots:{default:!0}})}),v(F),v(_),Vt(3,_,()=>zt,()=>({y:-10})),n(s,_)}),v(tt),v(Ze),v(X),n(t,X),ue()}export{Ua as component};
