const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./web.C_kq2BnX.js","./Icon.UlmRfCyG.js","./index.DVloVHZm.js","./utils.DRp8il40.js","./preload-helper.CTy181sv.js","./disclose-version.BXtJ1W0_.js","./legacy.B_at4KoE.js","./render.Bx7icutD.js","./lifecycle.lWNxn3M3.js"])))=>i.map(i=>d[i]);
import{_ as T}from"./preload-helper.CTy181sv.js";import{r as _}from"./Icon.UlmRfCyG.js";import{g as b,d as v,w as l}from"./index.DVloVHZm.js";const R=_("AppPreferences",{web:()=>T(()=>import("./web.C_kq2BnX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url).then(e=>new e.PreferencesWeb)});let g,w;function E(e){if(typeof document>"u")return;clearTimeout(g),clearTimeout(w);const n=document.createElement("style"),o=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);n.appendChild(o);const t=()=>document.head.appendChild(n),a=()=>document.head.removeChild(n);if(typeof window.getComputedStyle<"u"){t(),e(),window.getComputedStyle(n).opacity,a();return}if(typeof window.requestAnimationFrame<"u"){t(),e(),window.requestAnimationFrame(a);return}t(),g=window.setTimeout(()=>{e(),w=window.setTimeout(a,120)},120)}function p(e){return e.filter(n=>n.length>0)}const S={getItem:e=>null,setItem:(e,n)=>{}},f=typeof document<"u",I=["dark","light","system"],V=l("mode-watcher-mode"),A=l("mode-watcher-theme"),L=C(),P=F(),q=l(void 0),k=x(),M=l(!0),z=l([]),D=l([]),U=K(),W=Q();function C(){const e="system",n=f?localStorage:S,o=n.getItem(a());let t=y(o)?o:e;function a(){return b(V)}const{subscribe:d,set:i}=l(t,()=>{if(!f)return;const r=c=>{if(c.key!==a())return;const m=c.newValue;y(m)?i(t=m):i(t=e)};return addEventListener("storage",r),()=>removeEventListener("storage",r)});function s(r){i(t=r),n.setItem(a(),t)}return{subscribe:d,set:s}}function x(){const e=f?localStorage:S,n=e.getItem(t());let o=n??"";function t(){return b(A)}const{subscribe:a,set:d}=l(o,()=>{if(!f)return;const s=r=>{if(r.key!==t())return;const c=r.newValue;d(c===null?o="":o=c)};return addEventListener("storage",s),()=>removeEventListener("storage",s)});function i(s){d(o=s),e.setItem(t(),o)}return{subscribe:a,set:i}}function F(){let n=!0;const{subscribe:o,set:t}=l(void 0,()=>{if(!f)return;const i=r=>{n&&t(r.matches?"light":"dark")},s=window.matchMedia("(prefers-color-scheme: light)");return s.addEventListener("change",i),()=>s.removeEventListener("change",i)});function a(){if(!f)return;const i=window.matchMedia("(prefers-color-scheme: light)");t(i.matches?"light":"dark")}function d(i){n=i}return{subscribe:o,query:a,tracking:d}}function K(){const{subscribe:e}=v([L,P,q,M,z,D],([n,o,t,a,d,i])=>{if(!f)return;const s=n==="system"?o:n,r=p(d),c=p(i);function m(){const u=document.documentElement,h=document.querySelector('meta[name="theme-color"]');s==="light"?(r.length&&u.classList.remove(...r),c.length&&u.classList.add(...c),u.style.colorScheme="light",h&&t&&h.setAttribute("content",t.light)):(c.length&&u.classList.remove(...c),r.length&&u.classList.add(...r),u.style.colorScheme="dark",h&&t&&h.setAttribute("content",t.dark))}return a?E(m):m(),s});return{subscribe:e}}function Q(){const{subscribe:e}=v([k,M],([n,o])=>{if(!f)return;function t(){document.documentElement.setAttribute("data-theme",n)}return o?E(t):t(),n});return{subscribe:e}}function y(e){return typeof e!="string"?!1:I.includes(e)}function G(e){L.set(e)}function H(e){k.set(e)}function J(e){return e}function N({defaultMode:e="system",themeColors:n,darkClassNames:o=["dark"],lightClassNames:t=[],defaultTheme:a="",modeStorageKey:d="mode-watcher-mode",themeStorageKey:i="mode-watcher-theme"}){const s=document.documentElement,r=localStorage.getItem(d)||e,c=localStorage.getItem(i)||a,m=r==="light"||r==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(m?(o.length&&s.classList.remove(...o),t.length&&s.classList.add(...t)):(t.length&&s.classList.remove(...t),o.length&&s.classList.add(...o)),s.style.colorScheme=m?"light":"dark",n){const u=document.querySelector('meta[name="theme-color"]');u&&u.setAttribute("content",r==="light"?n.light:n.dark)}c&&(s.setAttribute("data-theme",c),localStorage.setItem(i,c)),localStorage.setItem(d,r)}export{R as P,N as a,U as b,W as c,J as d,P as e,H as f,M as g,q as h,y as i,z as j,D as l,V as m,G as s,A as t};
